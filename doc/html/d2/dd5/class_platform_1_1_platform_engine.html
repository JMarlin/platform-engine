<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Platform 2D Game Engine: Platform::PlatformEngine Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css">
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="../../index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="../../annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="../../hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="../../dc/d0e/namespace_platform.html">Platform</a>::<a class="el" href="../../d2/dd5/class_platform_1_1_platform_engine.html">PlatformEngine</a>
  </div>
</div>
<div class="contents">
<h1>Platform::PlatformEngine Class Reference</h1><!-- doxytag: class="Platform::PlatformEngine" -->The game engine instance.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="../../d6/d4f/platform-engine_8h-source.html">platform-engine.h</a>&gt;</code>
<p>

<p>
<a href="../../da/da1/class_platform_1_1_platform_engine-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dd5/class_platform_1_1_platform_engine.html#dbbbe20e4646a36123681e4c69f621f2">PlatformEngine</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dd5/class_platform_1_1_platform_engine.html#8745a9f24dcbb112506321f2ae8bb79b">Init</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dd5/class_platform_1_1_platform_engine.html#71ec02a1e29f8fe078bc458627ff0f4c">Cleanup</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dd5/class_platform_1_1_platform_engine.html#7ec18621f367de9dd678a2d48a139a40">StartState</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dd5/class_platform_1_1_platform_engine.html#23a7914b737c272ce1a46fc1ae1decbb">ChangeState</a> (<a class="el" href="../../d4/d4f/class_platform_1_1_game_state.html">GameState</a> *state)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dd5/class_platform_1_1_platform_engine.html#e9bbdbfed8a9d99bc89f21cee4b15bfd">PushState</a> (<a class="el" href="../../d4/d4f/class_platform_1_1_game_state.html">GameState</a> *state, char *scriptPath=NULL)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dd5/class_platform_1_1_platform_engine.html#3b2f23576d40b0a97f8f6477d5156bdf">PopState</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dd5/class_platform_1_1_platform_engine.html#ced86dc9266db718d80eec4a61f26c7d">HandleEvents</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dd5/class_platform_1_1_platform_engine.html#7f4d1cf999344461cd15dda4106a9e20">Update</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dd5/class_platform_1_1_platform_engine.html#af99d3e57733259edd6ffd727c9141e7">Draw</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dd5/class_platform_1_1_platform_engine.html#a89b32e154a653388cc42f5b9a582f59">Running</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dd5/class_platform_1_1_platform_engine.html#e65f082e457e8d7dab762f7ab6b6d82b">Quit</a> ()</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
The game engine instance. 
<p>
This class represents the game engine. It encompasses the major subprocesses; Initialization, State control, Event Handling, Updating, and Drawing. <hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="dbbbe20e4646a36123681e4c69f621f2"></a><!-- doxytag: member="Platform::PlatformEngine::PlatformEngine" ref="dbbbe20e4646a36123681e4c69f621f2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Platform::PlatformEngine::PlatformEngine           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="23a7914b737c272ce1a46fc1ae1decbb"></a><!-- doxytag: member="Platform::PlatformEngine::ChangeState" ref="23a7914b737c272ce1a46fc1ae1decbb" args="(GameState *state)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Platform::PlatformEngine::ChangeState           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d4f/class_platform_1_1_game_state.html">GameState</a> *&nbsp;</td>
          <td class="paramname"> <em>state</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The engine state is explicitly changed by calling this function with a new state that you wish to be the executed state. It actually passess both the new state and a reference to the engine to the current top state's equivalent function, allowing for customized transitions. 
</div>
</div><p>
<a class="anchor" name="71ec02a1e29f8fe078bc458627ff0f4c"></a><!-- doxytag: member="Platform::PlatformEngine::Cleanup" ref="71ec02a1e29f8fe078bc458627ff0f4c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Platform::PlatformEngine::Cleanup           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function cleans up any of the remaining global assets of the engine. This mostly consists of open surfaces and states remaining on the stack. 
</div>
</div><p>
<a class="anchor" name="af99d3e57733259edd6ffd727c9141e7"></a><!-- doxytag: member="Platform::PlatformEngine::Draw" ref="af99d3e57733259edd6ffd727c9141e7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Platform::PlatformEngine::Draw           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function's main purpose is to call the drawing function of the current state. 
</div>
</div><p>
<a class="anchor" name="ced86dc9266db718d80eec4a61f26c7d"></a><!-- doxytag: member="Platform::PlatformEngine::HandleEvents" ref="ced86dc9266db718d80eec4a61f26c7d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Platform::PlatformEngine::HandleEvents           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function's main purpose is to call the event handling function of the current state. 
</div>
</div><p>
<a class="anchor" name="8745a9f24dcbb112506321f2ae8bb79b"></a><!-- doxytag: member="Platform::PlatformEngine::Init" ref="8745a9f24dcbb112506321f2ae8bb79b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Platform::PlatformEngine::Init           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The Init function sets up the game assets; aside from just initializing the SDL subsystems, it also loads any configuration scripts. 
<p>
The script file, "init.lua", is loaded as a state by this function.<p>
The variables related to identifying the program revision are then loaded from the config file. "title" refers to the actual name of the program; by default this says something like "Platform Test", but in a game release this should contain the name of the game itself. "version" is the major revision, and normally should only be incremented in a major rewrite, or when going from pre-release to release. "release" refers to an upgrade release, involving new features or enhancements. "subrelease" refers to small changes, and should probably only be used for bugfixes. "status" is an appended title, and it can either be used for codenames, or to indicate development status; for example, "Beta", "Release Candidate" or "Final".<p>
The SDL subsystems are then initialized. The <a class="el" href="../../dc/d0e/namespace_platform.html">Platform</a> engine uses the video and timer subsystems.<p>
The window of the main screen should contain all of the previously entered release identification information.<p>
Next, the global variables for display configuration are parsed. "screenWidth" and "screenHeight" represent the horizontal and vertical dimensions of the display screen. "screenBits" represents the bit depth of the screen.<p>
The next set of variables represent SDL flags that specify the way the screen display will operate. These include, for example, "useHardwareMemory" and "useDoubleBuffering." Most of these are self-explanatory. If you do not understand the meaning of these flags, it is probably safest to leave them at the default settings.<p>
After being parsed, the flags are then used in the generation of the display screen.<p>
Once the screen has been created, an engine flag indicating that the engine is ready to run is set to "true", the lua script state is closed, and the program can now begin its primary loop of operation.
</div>
</div><p>
<a class="anchor" name="3b2f23576d40b0a97f8f6477d5156bdf"></a><!-- doxytag: member="Platform::PlatformEngine::PopState" ref="3b2f23576d40b0a97f8f6477d5156bdf" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Platform::PlatformEngine::PopState           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function pops a state pointer off the top of the stack. It's operation is ordered such that the state first becomes inactive and then is deleted from memory, effectively preventing segmentation errors. 
</div>
</div><p>
<a class="anchor" name="e9bbdbfed8a9d99bc89f21cee4b15bfd"></a><!-- doxytag: member="Platform::PlatformEngine::PushState" ref="e9bbdbfed8a9d99bc89f21cee4b15bfd" args="(GameState *state, char *scriptPath=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Platform::PlatformEngine::PushState           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d4f/class_platform_1_1_game_state.html">GameState</a> *&nbsp;</td>
          <td class="paramname"> <em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>scriptPath</em> = <code>NULL</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function takes a reference to a state and then pushes it onto the top of the engine's state stack. That then becomes the active stack for the engine.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>state</em>&nbsp;</td><td>Pointer to the newly-created state being pushed </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>scriptPath</em>&nbsp;</td><td>The path to the state's configuration script </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="e65f082e457e8d7dab762f7ab6b6d82b"></a><!-- doxytag: member="Platform::PlatformEngine::Quit" ref="e65f082e457e8d7dab762f7ab6b6d82b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Platform::PlatformEngine::Quit           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="a89b32e154a653388cc42f5b9a582f59"></a><!-- doxytag: member="Platform::PlatformEngine::Running" ref="a89b32e154a653388cc42f5b9a582f59" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Platform::PlatformEngine::Running           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="7ec18621f367de9dd678a2d48a139a40"></a><!-- doxytag: member="Platform::PlatformEngine::StartState" ref="7ec18621f367de9dd678a2d48a139a40" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Platform::PlatformEngine::StartState           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function uses a prewritten lua script to initiate a state. This is intended to be the first state that is run by the engine. 
<p>
First, the state is loaded from the hard-coded preset path of the 'beginstate.lua' script. This path is "./scripts/beginstate.lua".<p>
The engine then retrieves the type of state from the script and creates that state.<p>
After creation, the state is pushed onto the engine's state stack, and then it is initiated.
</div>
</div><p>
<a class="anchor" name="7f4d1cf999344461cd15dda4106a9e20"></a><!-- doxytag: member="Platform::PlatformEngine::Update" ref="7f4d1cf999344461cd15dda4106a9e20" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Platform::PlatformEngine::Update           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function's main purpose is to call the update function of the current state. 
</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Tue May 5 11:44:56 2009 for Platform 2D Game Engine by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
